(function(e){function t(t){for(var r,i,o=t[0],c=t[1],l=t[2],h=0,d=[];h<o.length;h++)i=o[h],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},s=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/notes/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cont--flex cont--flex--col",attrs:{id:"app"}},[e.didLoad?e._e():n("div",{staticClass:"loader cont--flex cont--flex--col cont--flex--center"},[e.isError?e._e():n("div"),e.isError?n("p",{staticClass:"text--center"},[n("strong",[e._v("Oops...")]),n("br"),n("br"),e._v(" Something went wrong. ")]):e._e()]),e.didLoad?n("Frame",{attrs:{content:e.content}}):e._e()],1)},s=[],i=(n("d3b7"),n("96cf"),n("1da1")),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{staticClass:"frame"},[n("frame-input",{on:{open:e.handleChannelOpen,query:e.handleIncomingQuery,clear:e.handleFilterClear,close:e.handleChannelClose}}),e.filters.entry.isSeen?n("router-view",{staticClass:"border--thin",attrs:{entry:e.entry},on:{open:e.handleChannelOpen,query:e.handleIncomingQuery}}):e._e(),e.indexIsSeen?n("frame-index",{staticClass:"border--thin",attrs:{matches:e.matches}}):e._e()],1)},c=[],l=(n("99af"),n("4de4"),n("4160"),n("caad"),n("d81d"),n("fb6a"),n("b0c0"),n("4fad"),n("c1f9"),n("b64b"),n("2532"),n("18a5"),n("159b"),n("ddb0"),n("5530")),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"frame-input cont--flex"},[n("label",{staticClass:"visually-hidden",attrs:{for:"text"}},[e._v(" explore ")]),n("input",{attrs:{id:"text",type:"text",placeholder:"Explore","data-toggled":"false"},on:{focus:e.handleInputFocus,keyup:e.handleInputKeyup}}),n("button",{on:{click:e.handleButtonClick}},[n("svg",{attrs:{viewBox:"0 0 10 10"}},[n("path",{attrs:{d:"M1,1 L9,9 M1,9 L9,1"}})])])])},h=[],d={anchor:"INPUT",typing:HTMLInputElement,status:"data-toggled",source:"value",isSeen:!0},f=r["a"].extend({name:"FrameInput",methods:{handleInputFocus:function(e){this.$emit("open",e.target,d)},handleInputKeyup:function(e){var t=e.target;t.value?this.$emit("query","input"):this.$emit("clear",["input"])},handleButtonClick:function(){this.$emit("clear",["input"]),this.$emit("close","input")}}}),p=f,m=n("2877"),g=Object(m["a"])(p,u,h,!1,null,"2b126176",null),v=g.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("article",{staticClass:"frame-entry",on:{click:e.handleClick}},[n("h1",[e._v(" "+e._s(e.entry.name)+" ")]),n("section",{domProps:{innerHTML:e._s(e.entry.body)}})])},y=[],$={anchor:"BUTTON",typing:HTMLButtonElement,status:"aria-pressed",source:"textContent",isSeen:!0},x=r["a"].extend({name:"FrameEntry",props:{entry:Object},methods:{handleClick:function(e){var t=e.target;t.nodeName===$.anchor&&(this.$emit("open",t,$),this.$emit("query","entry"))}}}),O=x,E=Object(m["a"])(O,b,y,!1,null,"3a0eb733",null),j=E.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"frame-index"},[e.hasMatches?e._e():n("p",[e._v(" No entries found. ")]),e.hasMatches?n("ul",e._l(e.matches,(function(t,r){return n("li",{key:r},[n("router-link",{attrs:{to:t}},[e._v(" "+e._s(t)+" ")])],1)})),0):e._e()])},w=[],C=r["a"].extend({name:"FrameIndex",props:{matches:Object},computed:{hasMatches:function(){return Object.keys(this.matches).length>0}}}),k=C,F=Object(m["a"])(k,_,w,!1,null,"c31952b0",null),T=F.exports,S={start:{name:"Get started",body:"Start browsing..."},error:{name:"Oops",body:"Something seems off..."}},I=/(<\/?t\/?>)([\s\w.]*)(<\/?t\/?>)/g,M=r["a"].extend({name:"Frame",components:{FrameInput:v,FrameIndex:T},props:{content:Array},data:function(){return{entries:{},filters:{input:d,entry:$},channel:"",queries:[""]}},computed:{entry:function(){return this.getEntry(this.$data.entries,this.$route.params.name||"start")},names:function(){var e=Object.keys(this.$data.entries).slice(2).sort(),t={};return e.forEach((function(e,n){t[n]=e})),t},matches:function(){return this.getMatches(this.names,this.$data.queries)},indexIsSeen:function(){var e=Object.keys(this.matches).length,t=Object.keys(this.names).length;return e<=t||this.entry===S["start"]}},watch:{channel:function(){var e=this;if(this.$data.channel){this.setFiltersSeen([this.$data.channel]);var t=Object.keys(this.$data.filters).filter((function(t){return t!=e.$data.channel}));this.resetToggledElements(t),this.clearFilterValues(t),this.extractQueries(this.$data.filters[this.$data.channel]),this.$data.channel=""}},$route:function(){this.handleFilterClear(Object.keys(this.$data.filters)),this.handleChannelClose(this.$data.channel)}},created:function(){var e=this.$props.content,t={},n="";e.forEach((function(e){e.meta&&"start"===e.meta?S.start=e:(n=e.name,n.toLowerCase(),t[n]=e)})),this.$data.entries=Object(l["a"])(Object(l["a"])({},S),t)},methods:{handleChannelOpen:function(e,t){this.toggleFilterElement(e,t)},handleIncomingQuery:function(e){this.$data.channel=e},handleFilterClear:function(e){this.clearFilterValues(e),this.setFiltersSeen(Object.keys(this.$data.filters)),this.$data.queries=[""]},handleChannelClose:function(e){e?this.resetToggledElements([e]):this.resetToggledElements(Object.keys(this.$data.filters)),this.$data.channel=""},toggleFilterElement:function(e,t){var n=t.status,r="true"===e.getAttribute(n);e.setAttribute(n,String(!r))},getToggledElements:function(e){var t="[".concat(e.status,'="true"]'),n=document.querySelectorAll(t);return Array.prototype.slice.call(n)},resetToggledElements:function(e){var t=this;e.forEach((function(e){var n=t.$data.filters[e],r=t.getToggledElements(n);r.forEach((function(e){return e.setAttribute(n.status,"false")}))}))},clearFilterValues:function(e){var t=this;e.forEach((function(e){var n=t.$data.filters[e],r=t.getToggledElements(n);"value"===n.source&&r.forEach((function(e){return e.value=""}))}))},setFiltersSeen:function(e){var t=this,n=Object.keys(this.$data.filters);n.forEach((function(n){t.$data.filters[n].isSeen=!!e.includes(n)}))},getEntry:function(e,t){var n,r=(null===e||void 0===e?void 0:e[t])||(null===(n=this.$data.entries)||void 0===n?void 0:n["error"]);return r.body=r.body.replaceAll(I,this.formatTerms),r},formatTerms:function(e,t,n){var r=this.getMatches(this.names,[n]),a=this.$data.filters.entry,s=a.anchor,i=a.status;return Object.keys(r).length>0?"<".concat(s," ").concat(i,'="false">').concat(n,"</").concat(s,">"):n},getMatches:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=Object.entries(e);return t.forEach((function(e){n=n.filter((function(t){return t[1].toLowerCase().includes(e.toLowerCase())}))})),Object.fromEntries(n)},extractQueries:function(e){var t=this.getToggledElements(e),n=t.map((function(t){return t[e.source]||""}));this.$data.queries=n}}}),L=M,q=Object(m["a"])(L,o,c,!1,null,"0d8a0e94",null),P=q.exports,A="./",R={default:"entries.json"},B=A+R.default,Q=r["a"].extend({name:"App",components:{Frame:P},data:function(){return{isError:!1,content:[]}},computed:{didLoad:function(){return this.$data.content.length>0}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchResource(B);case 2:n=t.sent,e.$data.content=n||[];case 4:case"end":return t.stop()}}),t)})))()},methods:{fetchResource:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",fetch(e).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})).catch((function(){t.$data.isError=!0})));case 1:case"end":return n.stop()}}),n)})))()}}}),N=Q,H=Object(m["a"])(N,a,s,!1,null,"67a58fd4",null),V=H.exports,J=n("8c4f");r["a"].use(J["a"]);var K=[{path:"/",component:j},{path:"/:name",component:j}],U=new J["a"]({routes:K}),G=U;r["a"].config.productionTip=!1,new r["a"]({router:G,render:function(e){return e(V)}}).$mount("#app")}});
//# sourceMappingURL=app.a20d2e49.js.map