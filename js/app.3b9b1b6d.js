(function(e){function t(t){for(var r,s,o=t[0],c=t[1],u=t[2],d=0,h=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&h.push(a[s][0]),a[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(h.length)h.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},i=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/notes/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cont--flex cont--flex--center",attrs:{id:"app"}},[e.didLoad?e._e():n("div",{staticClass:"loader cont--flex cont--flex--col cont--flex--center"},[e.isError?n("p",{staticClass:"text--center"},[n("strong",[e._v("Oops...")]),n("br"),n("br"),e._v(" Something went wrong. ")]):n("div")]),e.didLoad?n("Frame",{attrs:{content:e.content}}):e._e()],1)},i=[],s=(n("d3b7"),n("96cf"),n("1da1")),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{staticClass:"frame"},[n("frame-input",{attrs:{queries:e.queries,matches:e.matches},on:{open:e.handleChannelOpen,query:e.handleIncomingQuery,clear:e.handleFilterClear,close:e.handleChannelClose,invoke:e.handleFeatureInvoke}}),n("transition",{attrs:{appear:""}},[e.filters.entry.isSeen?n("router-view",{staticClass:"border--thin",attrs:{entry:e.entry},on:{open:e.handleChannelOpen,query:e.handleIncomingQuery}}):e._e()],1),n("transition",{attrs:{appear:""}},[e.indexIsSeen?n("frame-index",{attrs:{queries:e.queries,matches:e.matches,channelNature:e.channelNature},on:{untoggle:e.handleUntoggle}}):e._e()],1)],1)},c=[],u=(n("99af"),n("4de4"),n("4160"),n("caad"),n("c975"),n("d81d"),n("fb6a"),n("a434"),n("b0c0"),n("a9e3"),n("4fad"),n("c1f9"),n("b64b"),n("ac1f"),n("2532"),n("5319"),n("18a5"),n("159b"),n("ddb0"),n("5530")),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"frame-input cont--flex"},[n("label",{staticClass:"visually-hidden",attrs:{for:"frame-input-bar"}},[e._v(" explore ")]),n("input",{attrs:{id:"frame-input-bar",type:"text",placeholder:"Explore","data-toggled":!1},on:{focus:e.handleInputBarFocus,keyup:e.handleInputBarKeyup}}),n("div",{staticClass:"filter--dot area--secondary",attrs:{role:"presentation"}}),n("button",{attrs:{"aria-pressed":e.ariaPressed},on:{click:e.handleShowAllBtnClick}},[e._v(" "+e._s(e.matchCount)+" ")]),n("button",{on:{click:e.handleClearBtnClick}},[n("svg",{attrs:{viewBox:"0 0 10 10"}},[n("path",{attrs:{d:"M1,1 L9,9 M1,9 L9,1"}})])])])},d=[],h={nature:"single",anchor:"INPUT",typing:HTMLInputElement,status:"data-toggled",source:"value",isSeen:!0},f=r["a"].extend({name:"FrameInput",props:{queries:Array,matches:Object},data:function(){return{isIndexInvoked:!1}},computed:{matchCount:function(){return Object.keys(this.matches).length},ariaPressed:function(){return this.$data.isIndexInvoked||!!this.queries[0]}},watch:{$route:function(){this.$data.isIndexInvoked=!1}},methods:{handleInputBarFocus:function(){this.$data.isIndexInvoked&&this.revokeIndex(),this.toggleFilterOn(),this.$emit("open",h,"input")},handleInputBarKeyup:function(e){var t=e.target;t.value?this.$emit("query","input"):this.$emit("clear",["input"])},handleShowAllBtnClick:function(){this.ariaPressed||this.$data.isIndexInvoked?this.$data.isIndexInvoked&&this.revokeIndex():this.invokeIndex()},handleClearBtnClick:function(){this.$data.isIndexInvoked&&this.revokeIndex(),"input"!=this.$parent.$data.channel&&this.$emit("open",h,"input"),this.$emit("clear",["input"]),this.$emit("close","input")},invokeIndex:function(){this.$data.isIndexInvoked=!0,this.$emit("invoke","index")},revokeIndex:function(){this.$data.isIndexInvoked=!1,this.$emit("invoke","index")},toggleFilterOn:function(){var e=document.querySelector("#frame-input-bar");e.setAttribute(h.status,"true")}}}),p=f,m=n("2877"),v=Object(m["a"])(p,l,d,!1,null,"9f8214ae",null),g=v.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("article",{staticClass:"frame-entry",on:{click:e.handleClick}},[n("div",{staticClass:"filter--dot area--secondary",attrs:{role:"presentation"}}),n("h1",[e._v(" "+e._s(e.entry.name)+" ")]),n("section",{domProps:{innerHTML:e._s(e.entry.body)}})])},y=[],$={nature:"multi",anchor:"BUTTON",typing:HTMLButtonElement,status:"aria-pressed",source:"textContent",isSeen:!0},x=r["a"].extend({name:"FrameEntry",props:{entry:Object},methods:{handleClick:function(e){var t=e.target;t.nodeName===$.anchor&&(this.toggleButton(t),this.$emit("open",$,"entry"),this.$emit("query","entry"))},toggleButton:function(e){var t="true"===e.getAttribute($.status);e.setAttribute($.status,String(!t))}}}),k=x,C=Object(m["a"])(k,b,y,!1,null,"60387eb5",null),w=C.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"frame-index"},[n("transition",{attrs:{appear:""}},[e.batchIsSeen?n("frame-batch",{attrs:{queries:e.queries},on:{untoggle:e.handleUntoggle}}):e._e()],1),e.hasMatches?n("ul",{staticClass:"border--thin"},e._l(e.matches,(function(t,r){return n("li",{key:t.index},[n("router-link",{attrs:{to:t.route}},[e._v(" "+e._s(r)+" ")])],1)})),0):n("p",{staticClass:"border--thin"},[e._v(" No entries found. ")])],1)},I=[],E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"frame-batch"},[n("ul",{staticClass:"cont--flex"},[n("transition-group",{attrs:{appear:""}},e._l(e.queries,(function(t){return n("li",{key:t,staticClass:"border--thin cont--flex cont--flex--center",attrs:{tabindex:"0"},on:{click:e.handleLabelClick,keyup:e.handleLabelKeyup}},[e._v(" "+e._s(t)+" "),n("svg",{attrs:{viewBox:"0 0 10 10"}},[n("path",{attrs:{d:"M1,1 L9,9 M1,9 L9,1"}})])])})),0)],1)])},_=[],j=(n("498a"),r["a"].extend({name:"FrameBatch",props:{queries:Array},methods:{handleLabelClick:function(e){var t=e.target,n=t.textContent;this.$emit("untoggle",n.trim())},handleLabelKeyup:function(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),this.handleLabelClick(e))}}})),S=j,F=Object(m["a"])(S,E,_,!1,null,"cb556356",null),q=F.exports,T=r["a"].extend({name:"FrameIndex",components:{FrameBatch:q},props:{queries:Array,matches:Object,channelNature:String},computed:{hasMatches:function(){return Object.keys(this.matches).length>0},batchIsSeen:function(){return""!=this.queries[0]&&"multi"===this.channelNature}},methods:{handleUntoggle:function(e){this.$emit("untoggle",e)}}}),L=T,B=Object(m["a"])(L,O,I,!1,null,"2a33414e",null),M=B.exports,A=function(e,t){var n;return function(){var r=this,a=arguments,i=function(){e.apply(r,a)};clearTimeout(n),n=setTimeout(i,t)}},P={start:{name:"Get started",body:"Start browsing..."},error:{name:"Oops",body:"Something seems off..."}},N=/(<\/?t\/?>)([\s\w.]*)(<\/?t\/?>)/g,R=function(e){return e.replace(/\W/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"")},Q=r["a"].extend({name:"Frame",components:{FrameInput:g,FrameIndex:M},props:{content:Array},data:function(){return{entries:{},filters:{input:h,entry:$},channel:"",queries:[],invoked:[],columns:0}},computed:{entry:function(){return this.getEntry(this.$data.entries,this.$route.params.name)},views:function(){var e=Object.keys(this.$data.entries).slice(2).sort(),t={};return e.forEach((function(e,n){t[e]={index:n,route:R(e),isSet:!1}})),t},routes:function(){var e={};return Object.keys(this.views).forEach((function(t){e[R(t)]=t})),e},matches:function(){return this.getMatches(this.views,this.$data.queries)},indexIsSeen:function(){return this.$data.invoked.includes("index")||!!this.$data.queries[0]},channelNature:function(){var e;return(null===(e=this.$data.filters[this.$data.channel])||void 0===e?void 0:e.nature)||""}},watch:{$route:function(){this.handleFilterClear(Object.keys(this.$data.filters)),this.handleChannelClose(this.$data.channel)},invoked:function(){this.$data.invoked.includes("index")&&this.$data.columns<=1?this.setFiltersSeen([]):this.$data.invoked.includes("index")&&this.$data.columns>1?this.setFiltersSeen(["entry"]):this.setFiltersSeen(Object.keys(this.$data.filters))}},created:function(){var e=this.$props.content,t={},n="";e.forEach((function(e){e.meta&&"start"===e.meta?P.start=e:(n=e.name,n.toLowerCase(),t[n]=e)})),this.$data.entries=Object(u["a"])(Object(u["a"])({},P),t),this.handleWindowResize()},mounted:function(){window.addEventListener("resize",A(this.handleWindowResize,500))},beforeDestroy:function(){window.removeEventListener("resize",A(this.handleWindowResize,500))},methods:{handleChannelOpen:function(e,t){if(this.$data.channel!=t){var n=Object.keys(this.$data.filters).filter((function(e){return e!=t}));this.resetToggledElements(n),this.clearFilterValues(n),this.$data.channel=t}},handleIncomingQuery:function(e){this.$data.columns>1?this.setFiltersSeen([e,"entry"]):this.setFiltersSeen([e]),this.extractQueries(e,this.$data.filters[this.$data.channel])},handleFilterClear:function(e){this.clearFilterValues(e),this.setFiltersSeen(Object.keys(this.$data.filters)),this.$data.queries=[""]},handleChannelClose:function(e){e&&(this.resetToggledElements([e]),this.$data.channel=""),this.$data.invoked=[]},handleUntoggle:function(e){this.resetToggledElement(this.$data.channel,e),this.clearQuery(e)},handleFeatureInvoke:function(e){-1!=this.$data.invoked.indexOf(e)?this.$data.invoked.splice(this.$data.invoked.indexOf(e),1):this.$data.invoked.splice(-1,0,e)},handleWindowResize:function(){var e=Number(getComputedStyle(document.body,"::before").content.replace(/\"/g,"").replace(/-column/,""));this.$data.columns=e},getToggledElements:function(e,t){var n=".frame-".concat(e," [").concat(t.status,'="true"]'),r=document.querySelectorAll(n);return Array.prototype.slice.call(r)},resetToggledElement:function(e,t){var n=this.$data.filters[e],r=this.getToggledElements(e,n);r.forEach((function(e){e[n.source]===t&&e.setAttribute(n.status,"false")}))},resetToggledElements:function(e){var t=this;e.forEach((function(e){var n=t.$data.filters[e],r=t.getToggledElements(e,n);r.forEach((function(e){return e.setAttribute(n.status,"false")}))}))},clearFilterValues:function(e){var t=this;e.forEach((function(e){var n=t.$data.filters[e],r=t.getToggledElements(e,n);"value"===n.source&&r.forEach((function(e){return e.value=""}))}))},setFiltersSeen:function(e){var t=this,n=Object.keys(this.$data.filters);n.forEach((function(n){t.$data.filters[n].isSeen=!!e.includes(n)}))},clearQuery:function(e){this.$data.queries.splice(this.$data.queries.indexOf(e),1)},getEntry:function(e,t){var n=this.routes[t]||"start";return e[n]?"start"===n?this.$data.entries["start"]:(e[n]&&!0===this.views[n].isSet||(e[n].body=e[n].body.replace(N,this.setTerms),this.views[n].isSet=!0),e[n]):this.$data.entries["error"]},setTerms:function(e,t,n){var r=this.getMatches(this.views,[n]),a=this.$data.filters.entry,i=a.anchor,s=a.status,o=i.toLowerCase();return Object.keys(r).length>0?"<".concat(o," ").concat(s,'="false">').concat(n,"</").concat(o,">"):n},getMatches:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=Object.entries(e);return t.forEach((function(e){n=n.filter((function(t){return t[0].toLowerCase().includes(e.toLowerCase())}))})),Object.fromEntries(n)},extractQueries:function(e,t){var n=this.getToggledElements(e,t),r=n.map((function(e){return e[t.source]||""}));this.$data.queries=r}}}),z=Q,U=Object(m["a"])(z,o,c,!1,null,"15d605cf",null),W=U.exports,K="./",H={default:"entries.json"},V=K+H.default,D=r["a"].extend({name:"App",components:{Frame:W},data:function(){return{isError:!1,content:[]}},computed:{didLoad:function(){return this.$data.content.length>0}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchResource(V);case 2:n=t.sent,e.$data.content=n||[];case 4:case"end":return t.stop()}}),t)})))()},methods:{fetchResource:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",fetch(e).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})).catch((function(){t.$data.isError=!0})));case 1:case"end":return n.stop()}}),n)})))()}}}),J=D,G=Object(m["a"])(J,a,i,!1,null,"547f0f26",null),X=G.exports,Y=n("8c4f");r["a"].use(Y["a"]);var Z=[{path:"/",component:w},{path:"/:name",component:w}],ee=new Y["a"]({routes:Z,scrollBehavior:function(){return{x:0,y:0,behavior:"smooth"}}}),te=ee;r["a"].config.productionTip=!1,new r["a"]({router:te,render:function(e){return e(X)}}).$mount("#app")}});
//# sourceMappingURL=app.3b9b1b6d.js.map