(function(e){function t(t){for(var r,s,o=t[0],c=t[1],u=t[2],d=0,h=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&h.push(a[s][0]),a[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(h.length)h.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},i=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/notes/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cont--flex cont--flex--center",attrs:{id:"app"}},[e.didLoad?e._e():n("div",{staticClass:"loader cont--flex cont--flex--col cont--flex--center"},[e.isError?n("p",{staticClass:"text--center"},[n("strong",[e._v("Oops...")]),n("br"),n("br"),e._v(" Something went wrong. ")]):n("div")]),e.didLoad?n("Frame",{attrs:{content:e.content}}):e._e()],1)},i=[],s=(n("d3b7"),n("96cf"),n("1da1")),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{staticClass:"frame"},[n("frame-input",{attrs:{filterId:"searchbar",queries:e.queries,matches:e.matches},on:{open:e.handleChannelOpen,query:e.handleIncomingQuery,clear:e.handleFilterClear,close:e.handleChannelClose,invoke:e.handleFeatureInvoke}}),n("transition",{attrs:{appear:""}},[e.filters.entry.isSeen?n("router-view",{staticClass:"border--thin",attrs:{filterId:"entry",entry:e.entry},on:{open:e.handleChannelOpen,query:e.handleIncomingQuery}}):e._e()],1),n("transition",{attrs:{appear:""}},[e.indexIsSeen?n("frame-index",{attrs:{queries:e.queries,matches:e.matches,channelNature:e.channelNature},on:{untoggle:e.handleUntoggle}}):e._e()],1)],1)},c=[],u=(n("99af"),n("4de4"),n("4160"),n("caad"),n("c975"),n("d81d"),n("fb6a"),n("a434"),n("b0c0"),n("a9e3"),n("b64b"),n("ac1f"),n("2532"),n("5319"),n("159b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"frame-input cont--flex",attrs:{id:e.filterId}},[n("label",{staticClass:"visually-hidden",attrs:{for:"frame-input-bar"}},[e._v(" explore ")]),n("input",{attrs:{id:"frame-input-bar",type:"text",placeholder:"Explore","data-toggled":!1},on:{focus:e.handleInputBarFocus,keyup:e.handleInputBarKeyup}}),n("div",{staticClass:"filter--dot area--secondary",attrs:{role:"presentation"}}),n("button",{attrs:{"aria-pressed":e.ariaPressed},on:{click:e.handleShowAllBtnClick}},[e._v(" "+e._s(e.matchCount)+" ")]),n("button",{on:{click:e.handleClearBtnClick}},[n("svg",{attrs:{viewBox:"0 0 10 10"}},[n("path",{attrs:{d:"M1,1 L9,9 M1,9 L9,1"}})])])])}),l=[],d={nature:"single",anchor:"INPUT",typing:HTMLInputElement,status:"data-toggled",source:"value",isSeen:!0},h=r["a"].extend({name:"FrameInput",props:{filterId:String,queries:Array,matches:Object},data:function(){return{isIndexInvoked:!1}},computed:{matchCount:function(){return Object.keys(this.matches).length},ariaPressed:function(){return this.$data.isIndexInvoked||!!this.queries[0]}},watch:{$route:function(){this.$data.isIndexInvoked=!1}},methods:{handleInputBarFocus:function(){this.$data.isIndexInvoked&&this.revokeIndex(),this.toggleFilterOn(),this.$emit("open",d,this.filterId)},handleInputBarKeyup:function(e){var t=e.target;t.value?this.$emit("query",this.filterId):this.$emit("clear",[this.filterId])},handleShowAllBtnClick:function(){this.ariaPressed||this.$data.isIndexInvoked?this.$data.isIndexInvoked&&this.revokeIndex():this.invokeIndex()},handleClearBtnClick:function(){this.$data.isIndexInvoked&&this.revokeIndex(),this.$parent.$data.channel!=this.filterId&&this.$emit("open",d,this.filterId),this.$emit("clear",[this.filterId]),this.$emit("close",this.filterId)},invokeIndex:function(){this.$data.isIndexInvoked=!0,this.$emit("invoke","index")},revokeIndex:function(){this.$data.isIndexInvoked=!1,this.$emit("invoke","index")},toggleFilterOn:function(){var e="#".concat(this.filterId," > input"),t=document.querySelector(e);t.setAttribute(d.status,"true")}}}),f=h,p=n("2877"),m=Object(p["a"])(f,u,l,!1,null,"30334006",null),v=m.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("article",{staticClass:"frame-entry",attrs:{id:e.filterId},on:{click:e.handleClick}},[n("div",{staticClass:"filter--dot area--secondary",attrs:{role:"presentation"}}),n("h1",[e._v(" "+e._s(e.entry.name)+" ")]),n("section",{domProps:{innerHTML:e._s(e.entry.body)}})])},g=[],y=(n("18a5"),{nature:"multi",anchor:"BUTTON",typing:HTMLButtonElement,status:"aria-pressed",source:"textContent",isSeen:!0}),x=r["a"].extend({name:"FrameEntry",props:{filterId:String,entry:Object},methods:{handleClick:function(e){var t=e.target;t.nodeName===y.anchor&&(this.toggleButton(t),this.$emit("open",y,this.filterId),this.$emit("query",this.filterId))},toggleButton:function(e){var t="true"===e.getAttribute(y.status);e.setAttribute(y.status,String(!t))}}}),$=x,k=Object(p["a"])($,b,g,!1,null,"ef83ef7c",null),O=k.exports,I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"frame-index"},[n("transition",{attrs:{appear:""}},[e.batchIsSeen?n("frame-index-batch",{attrs:{queries:e.queries},on:{untoggle:e.handleUntoggle}}):e._e()],1),e.hasMatches?n("ul",{staticClass:"border--thin"},e._l(e.matches,(function(e){return n("frame-index-entry",{key:e.view.index,attrs:{match:e}})})),1):n("p",{staticClass:"border--thin"},[e._v(" No entries found. ")])],1)},E=[],j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"frame-batch"},[n("ul",{staticClass:"cont--flex"},[n("transition-group",{attrs:{appear:""}},e._l(e.queries,(function(t){return n("li",{key:t,staticClass:"border--thin cont--flex cont--flex--center",attrs:{tabindex:"0"},on:{click:e.handleLabelClick,keyup:e.handleLabelKeyup}},[e._v(" "+e._s(t)+" "),n("svg",{attrs:{viewBox:"0 0 10 10"}},[n("path",{attrs:{d:"M1,1 L9,9 M1,9 L9,1"}})])])})),0)],1)])},w=[],C=(n("498a"),r["a"].extend({name:"FrameBatch",props:{queries:Array},methods:{handleLabelClick:function(e){var t=e.target,n=t.textContent;this.$emit("untoggle",n.trim())},handleLabelKeyup:function(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),this.handleLabelClick(e))}}})),_=C,S=Object(p["a"])(_,j,w,!1,null,"d54bfb06",null),T=S.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",[n("router-link",{attrs:{to:e.match.view.route}},[n("article",{staticClass:"frame-index-entry"},[n("h1",{domProps:{innerHTML:e._s(e.match.name)}}),n("div",{attrs:{role:"presentation"}}),n("section",{domProps:{innerHTML:e._s(e.renderUntabbable(e.match.body))}})])])],1)},q=[],L=/(?<=tabindex=")-?\d+(?=")/g,B=/(?<=<)(a|button|input|select|textarea|link)(?=\s+|>)/g,M=r["a"].extend({name:"FrameIndexEntry",props:{match:Object},methods:{renumberTabindex:function(){return"-1"},addFalseTabindex:function(e){return e+' tabindex="-1"'},renderUntabbable:function(e){return e.replace(L,this.renumberTabindex).replace(B,this.addFalseTabindex)}}}),N=M,A=Object(p["a"])(N,F,q,!1,null,"58a0c960",null),P=A.exports,R=r["a"].extend({name:"FrameIndex",components:{FrameIndexBatch:T,FrameIndexEntry:P},props:{queries:Array,matches:Object,channelNature:String},computed:{hasMatches:function(){return Object.keys(this.matches).length>0},batchIsSeen:function(){return""!=this.queries[0]&&"multi"===this.channelNature}},methods:{handleUntoggle:function(e){this.$emit("untoggle",e)}}}),Q=R,z=Object(p["a"])(Q,I,E,!1,null,"4542ffa0",null),U=z.exports,H=function(e,t){var n;return function(){var r=this,a=arguments,i=function(){e.apply(r,a)};clearTimeout(n),n=setTimeout(i,t)}},V=(n("4fad"),n("c1f9"),n("5530")),W=n("d4ec"),J=n("bee2"),K={start:{name:"Get started",body:"Start browsing..."},error:{name:"Oops",body:"Something seems off..."}},D=K,G=function(e){return e.replace(/\W/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"")},X=G,Y=/(?<=<t>).*?(?=<\/t>)/g,Z=Y,ee=function(){function e(t){var n=this;Object(W["a"])(this,e),this.entriesObj={},this.baseNumber=Object.keys(D).length,this.keyEntriesByName=function(){var e={},t="";return n.entriesArr.forEach((function(n){n.meta&&"start"===n.meta?D.start=n:(t=n.name,t.toLowerCase(),e[t]=n)})),e},this.ensureEntryView=function(e,t,n){t.view||(t.view={});var r=t.view;return t.view={index:n,route:r.route||X(e),isSet:r.isSet||!1},t},this.appendEntriesToBase=function(e){return Object(V["a"])(Object(V["a"])({},D),e)},this.finalizeEntries=function(){var e=n.keyEntriesByName(),t=Object.keys(e).sort(),r=e;return t.forEach((function(t,a){r[t]=n.ensureEntryView(t,e[t],a)})),n.entriesObj=n.appendEntriesToBase(r),n.entriesObj},this.getQueryEntryMatches=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[""],t=Object.entries(n.entriesObj).slice(n.baseNumber);return e.forEach((function(e){t=t.filter((function(t){return t[0].toLowerCase().includes(e.toLowerCase())}))})),Object.fromEntries(t)},this.setEntryTerm=function(e){var t=n.getQueryEntryMatches([e]),r=y.anchor,a=y.status,i=r.toLowerCase();return Object.keys(t).length>0?"<".concat(i," ").concat(a,'="false">').concat(e,"</").concat(i,">"):e},this.replaceEntryTerms=function(e){var t=n.entriesObj[e];t.body=t.body.replace(Z,n.setEntryTerm);var r=t.view;return r.isSet=!0,t.view=r,t},this.entriesArr=t}return Object(J["a"])(e,[{key:"computeRoutes",value:function(){var e=this,t={};return Object.keys(this.entriesObj).slice(this.baseNumber).forEach((function(n){var r=e.entriesObj[n].view;t[r.route]=n})),t}},{key:"getEntries",value:function(){return this.entriesObj}},{key:"getEntry",value:function(e,t){var n=t[e]||"start";if(!this.entriesObj[n])return this.entriesObj["error"];if("start"===n)return this.entriesObj["start"];var r=this.entriesObj[n].view;if(!0===r.isSet)return this.entriesObj[n];var a=this.entriesObj[n];return a=this.replaceEntryTerms(n),a}}]),e}(),te=JSON.parse(JSON.stringify(d)),ne=r["a"].extend({name:"Frame",components:{FrameInput:v,FrameIndex:U},props:{content:Array},data:function(){return{storage:new ee(this.$props.content),filters:{searchbar:te,entry:y},channel:"",queries:[],invoked:[],columns:0}},computed:{entry:function(){return this.$data.storage.getEntry(this.$route.params.name,this.routes)},routes:function(){return this.$data.storage.computeRoutes()},matches:function(){return this.$data.storage.getQueryEntryMatches(this.$data.queries)},indexIsSeen:function(){return this.$data.invoked.includes("index")||!!this.$data.queries[0]},channelNature:function(){var e;return(null===(e=this.$data.filters[this.$data.channel])||void 0===e?void 0:e.nature)||""}},watch:{$route:function(){this.handleFilterClear(Object.keys(this.$data.filters)),this.handleChannelClose(this.$data.channel)},invoked:function(){this.$data.invoked.includes("index")&&this.$data.columns<=1?this.setFiltersSeen([]):this.$data.invoked.includes("index")&&this.$data.columns>1?this.setFiltersSeen(["entry"]):this.setFiltersSeen(Object.keys(this.$data.filters))}},created:function(){this.$data.storage.finalizeEntries(),this.handleWindowResize()},mounted:function(){window.addEventListener("resize",H(this.handleWindowResize,500))},beforeDestroy:function(){window.removeEventListener("resize",H(this.handleWindowResize,500))},methods:{handleChannelOpen:function(e,t){if(this.$data.channel!=t){var n=Object.keys(this.$data.filters).filter((function(e){return e!=t}));this.resetToggledElements(n),this.clearFilterValues(n),this.$data.channel=t}},handleIncomingQuery:function(e){this.$data.columns>1?this.setFiltersSeen([e,"entry"]):this.setFiltersSeen([e]),this.extractQueries(e,this.$data.filters[this.$data.channel])},handleFilterClear:function(e){this.clearFilterValues(e),this.setFiltersSeen(Object.keys(this.$data.filters)),this.$data.queries=[""]},handleChannelClose:function(e){e&&(this.resetToggledElements([e]),this.$data.channel=""),this.$data.invoked=[]},handleUntoggle:function(e){this.resetToggledElement(this.$data.channel,e),this.clearQuery(e)},handleFeatureInvoke:function(e){-1!=this.$data.invoked.indexOf(e)?this.$data.invoked.splice(this.$data.invoked.indexOf(e),1):this.$data.invoked.splice(-1,0,e)},handleWindowResize:function(){var e=Number(getComputedStyle(document.body,"::before").content.replace(/\"/g,"").replace(/-column/,""));this.$data.columns=e},getToggledElements:function(e,t){var n="#".concat(e," [").concat(t.status,'="true"]'),r=document.querySelectorAll(n);return Array.prototype.slice.call(r)},resetToggledElement:function(e,t){var n=this.$data.filters[e],r=this.getToggledElements(e,n);r.forEach((function(e){e[n.source]===t&&e.setAttribute(n.status,"false")}))},resetToggledElements:function(e){var t=this;e.forEach((function(e){var n=t.$data.filters[e],r=t.getToggledElements(e,n);r.forEach((function(e){return e.setAttribute(n.status,"false")}))}))},clearFilterValues:function(e){var t=this;e.forEach((function(e){var n=t.$data.filters[e],r=t.getToggledElements(e,n);"value"===n.source&&r.forEach((function(e){return e.value=""}))}))},setFiltersSeen:function(e){var t=this,n=Object.keys(this.$data.filters);n.forEach((function(n){t.$data.filters[n].isSeen=!!e.includes(n)}))},extractQueries:function(e,t){var n=this.getToggledElements(e,t),r=n.map((function(e){return e[t.source]||""}));this.$data.queries=r},clearQuery:function(e){this.$data.queries.splice(this.$data.queries.indexOf(e),1)}}}),re=ne,ae=Object(p["a"])(re,o,c,!1,null,"8c028ef2",null),ie=ae.exports,se="./",oe={default:"entries.json"},ce=se+oe.default,ue=r["a"].extend({name:"App",components:{Frame:ie},data:function(){return{isError:!1,content:[]}},computed:{didLoad:function(){return this.$data.content.length>0}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchResource(ce);case 2:n=t.sent,e.$data.content=n||[];case 4:case"end":return t.stop()}}),t)})))()},methods:{fetchResource:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",fetch(e).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})).catch((function(){t.$data.isError=!0})));case 1:case"end":return n.stop()}}),n)})))()}}}),le=ue,de=Object(p["a"])(le,a,i,!1,null,"547f0f26",null),he=de.exports,fe=n("8c4f");r["a"].use(fe["a"]);var pe=[{path:"/",component:O},{path:"/:name",component:O}],me=new fe["a"]({routes:pe,scrollBehavior:function(){return{x:0,y:0,behavior:"smooth"}}}),ve=me;r["a"].config.productionTip=!1,new r["a"]({router:ve,render:function(e){return e(he)}}).$mount("#app")}});
//# sourceMappingURL=app.a693f2b2.js.map